Linux E-CND1488614 5.10.102.1-microsoft-standard-WSL2 #1 SMP Wed Mar 2 00:30:59 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04.4 LTS
Release:	20.04
Codename:	focal
rustc 1.67.0 (fc594f156 2023-01-24)
cargo 1.67.0 (8ecd4f20a 2023-01-10)
Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Byte Order:                      Little Endian
Address sizes:                   39 bits physical, 48 bits virtual
CPU(s):                          4
On-line CPU(s) list:             0-3
Thread(s) per core:              2
Core(s) per socket:              2
Socket(s):                       1
Vendor ID:                       GenuineIntel
CPU family:                      6
Model:                           140
Model name:                      11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz
Stepping:                        1
CPU MHz:                         2995.201
BogoMIPS:                        5990.40
Hypervisor vendor:               Microsoft
Virtualization type:             full
L1d cache:                       96 KiB
L1i cache:                       64 KiB
L2 cache:                        2.5 MiB
L3 cache:                        12 MiB
Vulnerability Itlb multihit:     Not affected
Vulnerability L1tf:              Not affected
Vulnerability Mds:               Not affected
Vulnerability Meltdown:          Not affected
Vulnerability Spec store bypass: Mitigation; Speculative Store Bypass disabled via prctl and seccomp
Vulnerability Spectre v1:        Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:        Mitigation; Enhanced IBRS, IBPB conditional, RSB filling
Vulnerability Srbds:             Not affected
Vulnerability Tsx async abort:   Not affected
Flags:                           fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology tsc_reliable nonstop_tsc cpuid pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced fsgsbase bmi1 avx2 smep bmi2 erms invpcid avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves avx512vbmi umip avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq rdpid fsrm avx512_vp2intersect flush_l1d arch_capabilities
tokio v1.23.1
├── tokio feature "bytes"
│   ├── tokio feature "io-util"
│   │   └── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs)
│   │       └── amqprs feature "default" (command-line)
│   │           └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks)
│   │               └── benchmarks feature "default" (command-line)
│   │           [dev-dependencies]
│   │           └── examples v0.0.0 (/home/gftea/repo/amqprs/examples)
│   │               └── examples feature "default" (command-line)
│   │   └── tokio feature "full"
│   │       └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks) (*)
│   └── tokio feature "process"
│       └── tokio feature "full" (*)
├── tokio feature "default"
│   ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   ├── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks) (*)
│   └── tokio-stream v0.1.11
│       ├── tokio-stream feature "default"
│       │   └── tokio-reactor-trait v1.1.0
│       │       └── tokio-reactor-trait feature "default"
│       │           └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks) (*)
│       └── tokio-stream feature "time"
│           └── tokio-stream feature "default" (*)
│   [dev-dependencies]
│   └── examples v0.0.0 (/home/gftea/repo/amqprs/examples) (*)
├── tokio feature "fs"
│   └── tokio feature "full" (*)
├── tokio feature "full" (*)
├── tokio feature "io-std"
│   └── tokio feature "full" (*)
├── tokio feature "io-util" (*)
├── tokio feature "libc"
│   ├── tokio feature "net"
│   │   ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   │   └── tokio-reactor-trait v1.1.0 (*)
│   │   └── tokio feature "full" (*)
│   ├── tokio feature "process" (*)
│   └── tokio feature "signal"
│       └── tokio feature "full" (*)
├── tokio feature "macros"
│   └── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   └── tokio feature "full" (*)
├── tokio feature "memchr"
│   └── tokio feature "io-util" (*)
├── tokio feature "mio"
│   ├── tokio feature "net" (*)
│   ├── tokio feature "process" (*)
│   └── tokio feature "signal" (*)
├── tokio feature "net" (*)
├── tokio feature "num_cpus"
│   └── tokio feature "rt-multi-thread"
│       ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│       └── tokio-executor-trait v2.1.0
│           └── tokio-executor-trait feature "default"
│               └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks) (*)
│       └── tokio feature "full" (*)
├── tokio feature "parking_lot"
│   └── tokio feature "full" (*)
├── tokio feature "process" (*)
├── tokio feature "rt"
│   ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   └── tokio-reactor-trait v1.1.0 (*)
│   ├── tokio feature "full" (*)
│   └── tokio feature "rt-multi-thread" (*)
├── tokio feature "rt-multi-thread" (*)
├── tokio feature "signal" (*)
├── tokio feature "signal-hook-registry"
│   ├── tokio feature "process" (*)
│   └── tokio feature "signal" (*)
├── tokio feature "socket2"
│   └── tokio feature "net" (*)
├── tokio feature "sync"
│   ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   └── tokio-stream v0.1.11 (*)
│   └── tokio feature "full" (*)
├── tokio feature "time"
│   ├── amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs) (*)
│   └── tokio-reactor-trait v1.1.0 (*)
│   ├── tokio feature "full" (*)
│   └── tokio-stream feature "time" (*)
└── tokio feature "tokio-macros"
    └── tokio feature "macros" (*)
amqprs v1.0.7 (/home/gftea/repo/amqprs/amqprs)
└── amqprs feature "default" (command-line)
    └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks)
        └── benchmarks feature "default" (command-line)
    [dev-dependencies]
    └── examples v0.0.0 (/home/gftea/repo/amqprs/examples)
        └── examples feature "default" (command-line)
lapin v2.1.1
├── lapin feature "default"
│   └── benchmarks v0.0.0 (/home/gftea/repo/amqprs/benchmarks)
│       └── benchmarks feature "default" (command-line)
├── lapin feature "rustls"
│   └── lapin feature "default" (*)
└── lapin feature "rustls-native-certs"
    └── lapin feature "rustls" (*)
client_amqprs::amqprs_basic_pub
                        time:   [2.5408 ms 2.6222 ms 2.7249 ms]
Found 7 outliers among 100 measurements (7.00%)
  3 (3.00%) high mild
  4 (4.00%) high severe

client_lapin::lapin_basic_pub
                        time:   [4.4429 ms 4.5457 ms 4.6517 ms]
Found 3 outliers among 100 measurements (3.00%)
  3 (3.00%) high mild

See ./local_wsl2.log for benchmarks result from test run on WSL2 of my local PC. It shows amqprs has better performance than lapin. But, benchmark result from default GitHub-hosted runner machine shows lapin has better performance than amqprs.
